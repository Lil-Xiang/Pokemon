import{_ as H}from"./home-2280946f.js";import{d as E,r as v,_ as S,o as n,c as i,a as e,t as y,u as f,b as w,F as k,e as $,f as U,g as T,w as j,v as F,h as b,i as V,j as A,T as G,p as D,k as B,l as R}from"./index-7a3f8e84.js";const C=E("pokedex",()=>{const t=v({start:1,end:20}),o=v([]),s=v([]),_=v(!0),p=v(!1),c=v(!0);function l(){p.value=!p.value}const r=async(m,g)=>{for(let a=m;a<=g;a++)await d(a);_.value=!1,s.value.sort((a,x)=>a.id-x.id)},d=async m=>{try{const a=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${m}`,{method:"GET"})).json(),x=a.abilities.map(h=>h.ability.name),N=a.types.map(h=>h.type.name);s.value.push({id:a.id,name:a.name,ability:x,type:N,img:`https://pokedex-list.netlify.app/images/official-artwork/front_default/${a.id}.png`}),N.forEach(h=>{o.value.includes(h)||o.value.push(h)})}catch{alert("有些錯誤請重整頁面")}},u=m=>{if(t.value.end>=900)return;let g=m.target.scrollHeight,a=m.target.clientHeight;m.target.scrollTop+a>=g-5&&(t.value.start+=20,t.value.end+=20,r(t.value.start,t.value.end))};return r(t.value.start,t.value.end),{alltypes:o,pokemonData:s,loadingState:_,imgLoadingState:c,pokemonPopUpState:p,popSwitch:l,scrolling:u}});const M={class:"popBg"},O={class:"container"},Q={class:"popUp"},q={class:"name_btn"},z={class:"popMiddle"},J={class:"imgContainer"},K=["src"],W={class:"popDown"},X={class:"types"},Y={class:"typesText"},Z={class:"abilities"},ee={class:"abilitiesText"},te={__name:"PokemonPopUp",props:{specifyData:""},setup(t){const o=t,s=C();return(_,p)=>(n(),i("div",M,[e("div",O,[e("div",Q,[e("div",q,[e("span",null,y(o.specifyData.name),1),e("button",{class:"exitBtn",onClick:p[0]||(p[0]=(...c)=>f(s).popSwitch&&f(s).popSwitch(...c))}," Go Back ")])]),e("div",z,[e("div",J,[e("img",{src:o.specifyData.img,alt:"精靈獸"},null,8,K)]),e("span",null,[w("ID : "),e("p",null,y(o.specifyData.id),1)])]),e("div",W,[e("span",X,[w("Type : "),(n(!0),i(k,null,$(o.specifyData.type,(c,l)=>(n(),i("div",Y,[e("p",null,y(l+1+"."+c),1)]))),256))]),e("span",Z,[w("Ability : "),(n(!0),i(k,null,$(o.specifyData.ability,(c,l)=>(n(),i("div",ee,[e("p",null,y(l+1+"."+c),1)]))),256))])])])]))}},oe=S(te,[["__scopeId","data-v-287a1604"]]);const P=t=>(D("data-v-d44bc65d"),t=t(),B(),t),se=["onClick"],ne={key:0,class:"loading-spinner"},ae=["src"],ie={class:"pokemonDown"},ce=P(()=>e("div",{class:"pokemonN"},null,-1)),le=P(()=>e("div",{class:"pokemonN"},null,-1)),pe=P(()=>e("div",{class:"pokemonN"},null,-1)),de=P(()=>e("div",{class:"pokemonN"},null,-1)),_e={__name:"PokemonBox",props:{specifyType:""},setup(t){const o=t,s=C(),_=v(""),p=U(()=>o.specifyType?s.pokemonData.filter(d=>d.type.includes(o.specifyType)):s.pokemonData);function c(r){s.popSwitch(),_.value=r}function l(){s.imgLoadingState=!1}return(r,d)=>(n(),i(k,null,[(n(!0),i(k,null,$(p.value,u=>(n(),i("div",{class:"pokemon",key:u.id},[e("div",{class:"pokemonUp",onClick:m=>c(u)},[f(s).imgLoadingState?(n(),i("div",ne)):T("",!0),j(e("img",{class:"pokemonUpImg",onLoad:l,src:u.img,alt:"精靈獸"},null,40,ae),[[F,!f(s).imgLoadingState]])],8,se),e("div",ie,[e("span",null,"NO."+y(u.id),1),e("p",null,y(u.name),1)])]))),128)),ce,le,pe,de,b(G,{name:"popAnimation"},{default:V(()=>[f(s).pokemonPopUpState?(n(),A(oe,{key:0,specifyData:_.value},null,8,["specifyData"])):T("",!0)]),_:1})],64))}},re=S(_e,[["__scopeId","data-v-d44bc65d"]]);const ue={},I=t=>(D("data-v-1427e09a"),t=t(),B(),t),me={class:"loadingBg"},ve=I(()=>e("div",{class:"ball1"},null,-1)),fe=I(()=>e("div",{class:"ball2"},null,-1)),ye=I(()=>e("div",{class:"ball3"},null,-1)),he=[ve,fe,ye];function ke(t,o){return n(),i("div",me,he)}const ge=S(ue,[["render",ke],["__scopeId","data-v-1427e09a"]]);const L=t=>(D("data-v-da1df6f1"),t=t(),B(),t),xe={class:"pokedexContainer"},$e={class:"filterBox"},Se={class:"backContainer"},Pe=L(()=>e("button",null,[e("img",{src:H,alt:"主頁"})],-1)),we={class:"listContainer"},Te=L(()=>e("span",null,"分類",-1)),be=["onClick"],De={class:"showBox"},Be=L(()=>e("div",{class:"pokemonText"},[e("h1",null,"精靈圖鑑")],-1)),Ce={__name:"PokedexView",setup(t){const o=C(),s=v(""),_=U(()=>o.alltypes?o.alltypes:"-");function p(c=""){s.value=c}return(c,l)=>{const r=R("RouterLink");return n(),i(k,null,[f(o).loadingState?(n(),A(ge,{key:0})):T("",!0),e("div",xe,[e("aside",$e,[e("div",Se,[b(r,{to:"/"},{default:V(()=>[Pe]),_:1})]),e("div",we,[Te,e("ul",null,[e("li",{onClick:l[0]||(l[0]=d=>p())},"All")]),(n(!0),i(k,null,$(_.value,d=>(n(),i("ul",{key:d},[e("li",{onClick:u=>p(d)},y(d),9,be)]))),128))])]),e("main",De,[Be,e("div",{class:"pokemonBox",onScroll:l[1]||(l[1]=(...d)=>f(o).scrolling&&f(o).scrolling(...d))},[b(re,{specifyType:s.value},null,8,["specifyType"])],32)])])],64)}}},Ne=S(Ce,[["__scopeId","data-v-da1df6f1"]]);export{Ne as default};
